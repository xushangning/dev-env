- name: Setting up development environment
  hosts:
    - localhost
  collections:
    - ansible.builtin
  
  tasks:
  - name: Installing tools
    become: yes
    become_user: root
    become_method: sudo
    package:
      name: '{{ item }}'
      state: present
    loop:
      - tmux
      - neovim
      - tree
      - fish
      - fd-find
      - ripgrep
  - name: Making "fd" an alias for "fdfind"
    when: ansible_facts['distribution'] == 'Ubuntu'
    shell:
      cmd: alias --save fd=fdfind
      executable: /bin/fish
  - name: Installing dotfiles
    script:
      cmd: install_dotfiles.fish

# Manual Setup
#
# - Change login shell: Requires password input, not trivial in Ansible.
